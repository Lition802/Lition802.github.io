<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lition的博客</title>
  
  <subtitle>生活明朗万物可爱</subtitle>
  <link href="https://blog.lition.love/atom.xml" rel="self"/>
  
  <link href="https://blog.lition.love/"/>
  <updated>2023-11-29T16:56:53.872Z</updated>
  <id>https://blog.lition.love/</id>
  
  <author>
    <name>Lition</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>通过js判断网页失焦</title>
    <link href="https://blog.lition.love/posts/17908.html"/>
    <id>https://blog.lition.love/posts/17908.html</id>
    <published>2023-11-29T16:40:44.000Z</published>
    <updated>2023-11-29T16:56:53.872Z</updated>
    
    <content type="html"><![CDATA[<p>考试的时候看到考试软件有检测失焦的功能，切屏到一定次数会判定为不及格，好奇的了解了一下原理。</p><p>通过js监听<code>onfous</code>和<code>onblur</code>事件，自己尝试实现了一下。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> blurtime = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> focustime = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> isFirst = <span class="literal">true</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onfocus</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">focustime = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">valueOf</span>()</span><br><span class="line"><span class="keyword">let</span> second = (focustime - blurtime) / <span class="number">1000</span></span><br><span class="line">second = <span class="title class_">Math</span>.<span class="title function_">round</span>((second + <span class="title class_">Number</span>.<span class="property">EPSILON</span>) * <span class="number">10</span>) / <span class="number">10</span></span><br><span class="line"><span class="keyword">if</span> (!isFirst) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`请注意，你失去焦点了！总共离开<span class="subst">$&#123;second&#125;</span>秒`</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onblur</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (isFirst) &#123;</span><br><span class="line">isFirst = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">blurtime = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">valueOf</span>()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><p>同时本页面也嵌入了这个代码，按下<code>F12</code>进入控制台即可看到输出。</p><script>console.log('加载成功，开始监听网页失焦');let blurtime=null;let focustime=null;let isFirst=true;window.onfocus=function(){focustime=new Date().valueOf();let second=(focustime-blurtime)/1000;second=Math.round((second+Number.EPSILON)*10)/10;if(!isFirst){console.log(`请注意，你失去焦点了！总共离开${second}秒`)}};window.onblur=function(){if(isFirst){isFirst=false}blurtime=new Date().valueOf()};</script>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;考试的时候看到考试软件有检测失焦的功能，切屏到一定次数会判定为不及格，好奇的了解了一下原理。&lt;/p&gt;
&lt;p&gt;通过js监听&lt;code&gt;onfous&lt;/code&gt;和&lt;code&gt;onblur&lt;/code&gt;事件，自己尝试实现了一下。&lt;/p&gt;
&lt;div class=&quot;highligh</summary>
      
    
    
    
    
    <category term="技术" scheme="https://blog.lition.love/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>迁移博客了</title>
    <link href="https://blog.lition.love/posts/1241.html"/>
    <id>https://blog.lition.love/posts/1241.html</id>
    <published>2023-11-29T02:26:03.000Z</published>
    <updated>2023-11-29T03:01:58.837Z</updated>
    
    <content type="html"><![CDATA[<p>博客有一年没打理了，现在回去看看感觉以前写的东西都是些无病呻吟，就删去了大半部分，换了个主题，好好写点技术类博客。</p><!more><p>主题从<code>butterfly</code>换成了<a href="https://github.com/lotabout/hexo-theme-noise"><code>noise</code></a>，看多了花里胡哨，现在只想要简洁。</p><p>不过这个主题问题还是蛮多的，年久失修，代码块超级丑，随便啦。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="C"><figure class="iseeu highlight /c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;博客有一年没打理了，现在回去看看感觉以前写的东西都是些无病呻吟，就删去了大半部分，换了个主题，好好写点技术类博客。&lt;/p&gt;
&lt;!more&gt;

&lt;p&gt;主题从&lt;code&gt;butterfly&lt;/code&gt;换成了&lt;a href=&quot;https://github.com/lotabou</summary>
      
    
    
    
    
    <category term="日常" scheme="https://blog.lition.love/tags/%E6%97%A5%E5%B8%B8/"/>
    
  </entry>
  
</feed>
